# Nullplatform Setup Configuration Example
#
# Each application contains nested scopes and parameters.
# See README.md for prerequisites and usage instructions.

# Organization ID (required)
# Your Nullplatform organization ID - get it with: np organization list --format json
organization_id: "your-organization-id-here"

# Account ID (required)
# Your Nullplatform account ID - get it with: np account list --format json
account_id: "your-account-id-here"

# Applications
# Each application can contain nested scopes and parameters
applications:
  # Example 1: Basic application
  - name: "my-web-app"
    namespace: "my-namespace"  # Must exist - create with: np namespace create
    repository_url: "https://github.com/my-org/my-web-app"  # Required

    scopes:
      - name: "development"
      - name: "staging"
      - name: "production"

  # Example 2: Application with parameters
  - name: "my-api-service"
    namespace: "my-namespace"
    repository_url: "https://github.com/my-org/my-api-service"

    scopes:
      - name: "development"
      - name: "production"

    parameters:
      # Environment variable (default type)
      - name: "DATABASE_URL"
        value: "postgres://localhost:5432/mydb"

      # Secret parameter
      - name: "API_KEY"
        value: "sk-xxxxx"
        secret: true

      # File parameter
      - name: "config.json"
        type: "file"
        destination_path: "/app/config.json"
        encoding: "base64"
        value: "eyJrZXkiOiJ2YWx1ZSJ9"

      # Parameter with dimensions (multi-environment, multi-region)
      # Note: Dimensions require application-level parameters (no 'scope' field)
      - name: "API_ENDPOINT"
        value: "https://api.dev.us-east-1.example.com"
        dimensions:
          environment: "development"
          region: "us-east-1"

      # Parameter with multiple values (one parameter, many values)
      # Each value can target different scopes, dimensions, or application-level
      - name: "LOG_LEVEL"
        type: "environment"
        values:
          # Scope-specific values
          - value: "debug"
            scope: "development"

          - value: "info"
            scope: "staging"

          - value: "warn"
            scope: "production"

          # Application-level fallback (no scope or dimensions)
          - value: "info"

      # Advanced: Multiple values with dimensions
      - name: "MAX_CONNECTIONS"
        type: "environment"
        values:
          # Different values for different dimension combinations
          - value: "100"
            dimensions:
              environment: "development"
              region: "us-east-1"

          - value: "500"
            dimensions:
              environment: "production"
              region: "us-east-1"

          - value: "500"
            dimensions:
              environment: "production"
              region: "eu-west-1"
